# Example NGINX stream configuration for proxying UDP traffic to the Necesse server.
# Ensure your distribution's nginx build includes the stream module and that
# /etc/nginx/nginx.conf loads stream configs (e.g. `include /etc/nginx/streams-enabled/*.conf;`).

stream {
  upstream necesse_upstream {
    server 127.0.0.1:14159;  # Docker container published on localhost
  }

  server {
    listen 14159 udp;
    proxy_pass necesse_upstream;
  }
}

# Steps:
# 1. Copy this file to /etc/nginx/sites-available/necesse-stream.conf (or similar).
# 2. Symlink it into the directory referenced by the `include` directive above.
# 3. Run `nginx -t` to verify syntax.
# 4. Reload nginx: `sudo systemctl reload nginx`.
# Clients then connect to your hostname (e.g., bestservers.com:14159) over UDP.
# Remember: this is not HTTP, there are no URL paths for UDP game traffic.
